<!DOCTYPE html>
<html>
<head>
	<title>super quiz 100% good code</title>
	<link rel="stylesheet" href="styles.css" />
	<link rel="stylesheet" href="rainbow_styling.css" />
	<script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
	<meta charset="utf-8">
</head>
<body>
	<h1 id="welcome">Welcome to the super quiz!</h1>
	<h3 class="rainbow">If you don't like, money back 100% true</h3>
	<div>
		<span><strong>Enter your name:</strong></span>
		<input class="getData" type="text" placeholder="Name" />
		<p>Welcome to the quiz, <span></span>!</p>
		<address></address>
	</div>

	<div class="quizSection">
		
	</div>
	<script type="text/javascript">
		jQuery(function($) {
			// set all question display fields to hidden
			$('input.getData').siblings('p').hide();
			// set question number for accurate dynamic adding
			var qNum = 0;
			// create json object for dynamic question adding
			var quiz_data = [
				{
					text: "What is the answer to life?",
					answer: "Living"
				},
				{
					text: "Who desided to make the aside tag?",
					answer: "Some no-life who cannot be found at this time"
				},
				{
					text: "Who thought that css would be so hard?",
					answer: "Nobody, but it still is"
				},
				{
					text: "Is cake a real function in javascript?",
					answer: "No but CakePHP is a thing"
				},
				{
					text: "Who is God?",
					answer: "..."
				},
				{
					text: "Who thought of fontawesome?",
					answer: "FortAwesome I think"
				},
			];

			// loop through length of array and add each individual question
			for(var i = 0; i < quiz_data.length; i++) {
				addQuizQuestion(quiz_data[i], i);
			}

			// keypress event that handles when we press enter
			$(window).on('keypress', function(e){
				var code = e.keyCode || e.which;
				if(code == 13 && ( $(e.target).is('input.getData') )) {
				   	entorData(e.target);
				}
			});

			// function used to update entry data into display field
			function entorData(element) {
				// 1. value ^element
				var eleValue = $(element).val();
				// 2. get sibling
				var valueDisplay = $(element).siblings('p').children('span');
				// 3. pass ^element value as .text() valueDisplay
				$(valueDisplay).text(eleValue);
				// show hidden elemnt containing dynamic value
				$(valueDisplay).parent('p').show(500);
				// hide label once question is ansered
				$(element).siblings('span').hide(1);
				// hide input field
				$(element).hide(1);
			}
			function addQuizQuestion(quiz_data, qNum) {
				
				console.log(quiz_data);
				
				// 2. structure our quiz question
					// 2a. create question parent div
					var questionDiv = $('<div data-question-index="'+qNum+'"></div>');
					// 2b. create question label
					var questionLabel = $('<span>Question #'+(qNum + 1)+': '+quiz_data.text+' </span>');
					// 2c. create question input field
					var questionAndInput = $('<input class="getData" type="text" />');
					// 2d. create question display field(p tag)
					var displayField = $('<p></p>');
					// 2e. create span tag that nests inside displayField p tag
					var dispSpan = $('<span></span>');

				// 3. insert our newly created elements into quiz section div
					// 3a. append your parent div to quiz section(parent div, beinng the container for each question)
					$(questionDiv).appendTo('.quizSection');
					// 3b. append label which contains qNum
					$(questionLabel).appendTo(questionDiv);
					// 3c. append inputField to container div
					$(questionAndInput).appendTo(questionDiv);
					// 3d. append displayField
					$(displayField).appendTo(questionDiv);
					// 3e. put displayField span tag
					$(dispSpan).appendTo(displayField);
					// final. increment quiz question number
					qNum = qNum + 1;

			}
			$('.rainbow').html(function(i, html) {
  				var chars = $.trim(html).split("");
  				return '<span>' + chars.join('</span><span>') + '</span>';
			});
		});
	</script>
</body>
</html>
